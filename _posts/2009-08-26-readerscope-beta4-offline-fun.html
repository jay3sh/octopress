---
layout: post
title: "ReaderScope beta4 - offline fun"
date: 2009-08-26
comments: false
categories:
 - altcanvas
 - reader
 - googlereader
 - android
 - readerscope
---

<div class='post'>
Beta 4 is about some new features that make offline browsing better.<br /><br />The news items (including embedded images) are now cached (if you choose the option in <span style="font-style: italic;">Settings</span>). Moreover the actions you perform offline, like marking news items read/unread/starred/unstarred/shared/unshared are remembered and when you go online next time, you can sync these actions with a tap of a button.<br /><br />Now here are some details.<br /><br />If you want to read your news items complete with images when you are offline, you should go to settings, choose your favorite feeds/tags to cache and mark this checkbox.<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_W6UcJjyXr24/SpVtgW6rN8I/AAAAAAAADUQ/qkDvhMZ6GUM/s1600-h/cache-images-option.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 326px; height: 184px;" src="http://4.bp.blogspot.com/_W6UcJjyXr24/SpVtgW6rN8I/AAAAAAAADUQ/qkDvhMZ6GUM/s400/cache-images-option.png" alt="" id="BLOGGER_PHOTO_ID_5374322133011478466" border="0" /></a><br />Now when your favorite feeds get downloaded during periodic/manual download, the news contents will be cached. You can also verify that by looking at the progress bar in notifications towards the end of download.<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_W6UcJjyXr24/SpVtgwQpZbI/AAAAAAAADUY/aDFVBJcUUSw/s1600-h/caching-contents.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 112px;" src="http://4.bp.blogspot.com/_W6UcJjyXr24/SpVtgwQpZbI/AAAAAAAADUY/aDFVBJcUUSw/s400/caching-contents.png" alt="" id="BLOGGER_PHOTO_ID_5374322139814520242" border="0" /></a>Note that, ReaderScope leverages WebView's caching capabilities. (WebView is part of Browser). Therefore you need to have enabled the Browser's cache. Also clearing Browser's cache will lead to loosing the cached images too. (The text will still remain intact).<br /><br />Now about the second feature. When you read/star/share a news item, the action is instantly synced with Google Reader. However when you are offline, this is not possible. Starting from beta4, such operations are now noted in the database. When you perform these actions, you will see this message<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_W6UcJjyXr24/SpVthdQpkgI/AAAAAAAADUg/pqb8s7zyFmw/s1600-h/offline-save-msg.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 321px; height: 166px;" src="http://2.bp.blogspot.com/_W6UcJjyXr24/SpVthdQpkgI/AAAAAAAADUg/pqb8s7zyFmw/s400/offline-save-msg.png" alt="" id="BLOGGER_PHOTO_ID_5374322151894127106" border="0" /></a>At the same time you will see a notification in the status bar.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_W6UcJjyXr24/SpVvwzQRwcI/AAAAAAAADUo/0LTo5K-_9Ow/s1600-h/pending-tasks-notification.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 318px; height: 111px;" src="http://4.bp.blogspot.com/_W6UcJjyXr24/SpVvwzQRwcI/AAAAAAAADUo/0LTo5K-_9Ow/s400/pending-tasks-notification.png" alt="" id="BLOGGER_PHOTO_ID_5374324614519439810" border="0" /></a>You can continue reading news offline. After you get back online. Just pull down the notifications area and tap on the above notification. It will automatically sync the actions with Google Reader, showing progress as follows:<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_W6UcJjyXr24/SpVv8MRvbKI/AAAAAAAADUw/FLN1C8ppLMI/s1600-h/syncing-notification.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 319px; height: 105px;" src="http://3.bp.blogspot.com/_W6UcJjyXr24/SpVv8MRvbKI/AAAAAAAADUw/FLN1C8ppLMI/s400/syncing-notification.png" alt="" id="BLOGGER_PHOTO_ID_5374324810215025826" border="0" /></a><br />In addition, some fixes were done in the code to handle scenarios when network connectivity is lost in the middle of browsing the news. As David reported in <a href="https://www.blogger.com/comment.g?blogID=7937326&amp;postID=4027745284798480839">comments</a> to last post, such scenario locked the UI at the circling progress bar. The fixes now take care of that. Wherever possible, the network operations are not started without checking the connectivity. If the network should disconnect in the middle of a download, then the progress bar will go away at the most in 30 seconds followed by proper error message.<br /><br />So give it a shot! I have tried my best to consider various n/w outage scenarios, but it's not easy to cover all possible cases. So if you still see any problems, please let me know in the comments.</div>
