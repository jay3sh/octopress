---
layout: post
title: "Python fun"
date: 2008-06-12
comments: false
---

<div class='post'>
On Sunday I had great fun writing some cool <a href="http://code.google.com/p/altcanvas/source/browse/trunk/altplayer/altplayerlib/db.py?r=463">python code</a>. Finally I think I got what lambda is good for.<br /><br />I will mention one bit here. I found an elegant solution (at least in python) for one piece of code that I could never write with sufficient elegance.<br /><br />A typical problem would be to create a string out of an array of words by separating them by commas. To solve this problem you always have to take care of the one corner case - the first element or the last element of the array. The code would be clean if every element could be followed by the comma OR every element could be preceded by the comma (depending upon your choice). So either you have to use a flag to detect the first pass of the loop and not use comma before current element. Or eat the extra comma after you have come out of the loop. In any case, I always resented the loss of elegance in this type of code. Here is how I would write it in C:<br /><pre class="prettyprint"><br />int numbers[MAX] = {2,3,5,7};<br />first = 1;<br />for (int i=0; i < max; i++){<br />   if(!first){<br />      sprintf(str,",%d",numbers[i]);<br />   } else {<br />      sprintf(str,"%d",numbers[i]);<br />      first = 0<br />   }<br />   strcat(string,str);   <br />}<br /><br /></pre><br />Result: "2,3,5,7"<br /><br />I found a one liner to do this in python:<br /><br /><pre class="prettyprint"><span class="pln">fruits = ['apple','banana','orange']<br />print reduce</span><span class="pun">(</span><span class="kwd">lambda</span><span class="pln"> x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">:</span><span class="pln"> </span><span class="str">'%s,%s'</span><span class="pun">%(</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">),</span><span class="pln"> fruits</span><span class="pun">)</span><span class="pln"><br /></span></pre><br /><br />Enjoy!</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Jayesh</div>
<div class='content'>
That's better. Thanks!</div>
</div>
<div class='comment'>
<div class='author'>Paddy3118</div>
<div class='content'>
I think what you are after is:<BR/><BR/>  ','.join(fruits)<BR/><BR/><BR/>Have fun,  Paddy.</div>
</div>
</div>
